# 推荐算法

推荐算法是推荐系统中使用的算法,准确讲有些这个范畴的算法并不是严格意义上的机器学习算法.

推荐系统是用来给用户推荐物品的系统,基本任务是联系用户和物品,解决信息过载的问题.

而推荐算法就是解决如何知道该向什么用户推荐什么物品的问题.
如果来简化这个问题,可以这么理解,一个二维矩阵,每行代表所有物品,每列代表所有用户,每个元素则是代表这位对应的用户对这位对应的物品的喜好程度.这张表可能是空的也可能有零星几位有值.推荐算法就是要将这个物品-用户的偏好表填满.或者说是将一个二部图建立全连接


## 推荐系统设计思路

如果你是个导购员,来了一个会员客户,你该如何找到这个客户可能想买的产品呢?可能会有这么几个思路:


   
1. 看看他以前买过啥,分析用户的偏好,根据这个做推荐.

    这种方式也很直观,但其实是基于这样一个假设--用户的喜好不会变.这显然并不现实,但确实很有可解释性.

2. 看最近发生了一些什么事件,然后根据这个做推荐.
    
    比如世界杯期间推荐球衣啤酒,情人节前夕推荐巧克力,如果客户是个程序员,那就可以给他推荐格子衫.
    


## 如何评估推荐算法


推荐算法是个很难以量化评估的东西,因为每个人对东西满意的标准不同.首先推荐系统应用背景非常复杂.比如像一些视频网站可以点赞可以踩,但真实的情况是喜欢的不一定会点赞,讨厌的也不一定会踩,更多的是一种不点赞也不踩的装填.放在推荐这个事情上我们能知道推荐给用户的东西它觉得满意呢?只能是看他有没有打开,有没没有付费,有没有点赞,停留时间多久这些表现.即便问,就像相亲见面只吃了一顿饭,完全不够评估喜欢不喜欢,客户也未必会说自己究竟喜不喜欢.另一方面外部因素会影响推荐算法的结果,比如经济好了冲动消费就多,这就无法判断是推荐算法的原因还是经济好了的原因,又比如推销一个东西不光可以是通过推荐算法,也可以有广告呀宣发呀这些,最终决定是否购买的因素很多,无法判定推荐算法在其中占有多少成分.

但是无论如何工业上要应用我们都得评估,要不怎么优化呢?

一般针对不同的推荐算法,按评估的形式,有在线和离线两种评估方法:

1 .在线评估.
    在线评估一般是在线上环境随机划分一部分用户让他们先测试模型,一般是与基准模型做AB测试,基准模型往往是前一版模型,如果本身要评估的就是第一版模型,可以使用随机推荐的方式作为基准.
    这种方式评估周期长,必须依赖其他组件的支持,有一定的系统开发成本,但是最有说服力的评估方式.也是通用的评估方式.
2. 离线评估.
    一些使用特征训练的模型可以使用这种方式做评估,这类模型往往不太依赖已有的用户-物品关系表,更多的使用一些外部特征.数据分好训练集测试集,在训练集上做训练调整超参,训练完成后再在测试集上验证效果,这种方式评估周期短,测试方便,往往用于验证模型性能,方便优化模型,但要做出有说服力的评估还是要使用在线评估
    
## 本章结构

本章第一节介绍如何使用已有的关联数据做推荐,接下来的一篇"基于特征的推荐算法"中我们将不再完全依赖用户-物品间的关联信息,而是使用特征来进行推荐.在最后一篇中我们也会介绍可以综合利用特征